<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏≠‡∏î‡∏ö‡∏≠‡∏•</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">

<style>
body {
    font-family: Arial;
    background: black;
    color: white;
    padding: 30px;
}

/* ‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏™‡∏±‡πà‡∏ô */
.logoText {
    text-align:center;
    font-family:'Orbitron', sans-serif;
    font-size:80px;
    font-weight:900;
    letter-spacing:6px;
    margin-bottom:10px;
    animation: shake 0.3s infinite;
}

.logoText span {
    color:red;
}

/* animation ‡∏™‡∏±‡πà‡∏ô */
@keyframes shake {
    0% { transform: translate(0, 0) rotate(0deg); }
    25% { transform: translate(-2px, 2px) rotate(-1deg); }
    50% { transform: translate(2px, -2px) rotate(1deg); }
    75% { transform: translate(-2px, 1px) rotate(0deg); }
    100% { transform: translate(2px, 0) rotate(-1deg); }
}

h1 { text-align:center; }

button {
    padding:8px 12px;
    font-size:14px;
    cursor:pointer;
}

table {
    border-collapse: collapse;
    width: 95%;
    margin:auto;
    background:white;
    color:black;
}

th, td {
    border:1px solid #ccc;
    padding:8px;
    text-align:center;
}

th {
    background:#111;
    color:white;
}

input {
    width:100%;
    border:none;
    text-align:center;
    font-size:14px;
    background:transparent;
}
</style>
</head>

<body>

<div class="logoText">
D<span>!</span>CTATOR
</div>

<h1>‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡∏≠‡∏î‡∏ö‡∏≠‡∏•</h1>

<div style="text-align:center;margin-bottom:10px;">
<button onclick="addRow()">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏±‡∏ô</button>
<button onclick="saveData()">üíæ ‡πÄ‡∏ã‡∏ü</button>
</div>

<table id="table">
<thead>
<tr>
<th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
<th>‡∏ó‡∏∏‡∏ô</th>
<th>‡∏Å‡∏≥‡πÑ‡∏£</th>
<th>‡∏•‡∏ö</th>
<th>‡∏£‡∏ß‡∏°</th>
<th>‡∏•‡∏ö‡∏ß‡∏±‡∏ô</th>
</tr>
</thead>

<tbody></tbody>

<tfoot>
<tr>
<td><b>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</b></td>
<td><input id="t1"></td>
<td><input id="t2"></td>
<td><input id="t3"></td>
<td><input id="t4"></td>
<td></td>
</tr>
</tfoot>
</table>

<script>
function addRow(data = ["","","","",""]) {
    let tbody = document.querySelector("#table tbody");
    let row = document.createElement("tr");

    for (let i=0;i<5;i++) {
        let td = document.createElement("td");
        let input = document.createElement("input");
        input.value = data[i];
        input.oninput = updateTotal;
        td.appendChild(input);
        row.appendChild(td);
    }

    let delTd = document.createElement("td");
    let btn = document.createElement("button");
    btn.innerText = "‚ùå";
    btn.onclick = () => {
        row.remove();
        updateTotal();
        saveData();
    };
    delTd.appendChild(btn);
    row.appendChild(delTd);

    tbody.appendChild(row);
}

function updateTotal() {
    let totals = [0,0,0,0];
    let rows = document.querySelectorAll("tbody tr");

    rows.forEach(row=>{
        let inputs = row.querySelectorAll("input");
        for(let i=1;i<5;i++){
            totals[i-1] += Number(inputs[i].value) || 0;
        }
    });

    document.getElementById("t1").value = totals[0];
    document.getElementById("t2").value = totals[1];
    document.getElementById("t3").value = totals[2];
    document.getElementById("t4").value = totals[3];
}

function saveData() {
    let rows = document.querySelectorAll("tbody tr");
    let data = [];

    rows.forEach(row=>{
        let inputs = row.querySelectorAll("input");
        let rowData = [];
        inputs.forEach(i=>rowData.push(i.value));
        data.push(rowData);
    });

    localStorage.setItem("ballTable", JSON.stringify(data));
    alert("‡πÄ‡∏ã‡∏ü‡πÅ‡∏•‡πâ‡∏ß ‚úÖ");
}

function loadData() {
    let data = JSON.parse(localStorage.getItem("ballTable") || "[]");
    if(data.length===0) addRow();
    data.forEach(d=>addRow(d));
    updateTotal();
}

loadData();
</script>

</body>
</html>
