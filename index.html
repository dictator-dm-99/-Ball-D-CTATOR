<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DICTATOR</title>

<style>
body{
    margin:0;
    background:#000;
    font-family:Arial, Helvetica, sans-serif;
    color:#fff;
}
.container{
    width:90%;
    max-width:1000px;
    margin:auto;
    padding:20px;
}
.header{
    text-align:center;
    font-size:48px;
    font-weight:bold;
    letter-spacing:6px;
    animation:logoShake 0.6s infinite;
}
@keyframes logoShake{
    0%{ transform:translate(0,0); }
    20%{ transform:translate(-2px, 1px); }
    40%{ transform:translate(2px, -1px); }
    60%{ transform:translate(-2px, -1px); }
    80%{ transform:translate(2px, 1px); }
    100%{ transform:translate(0,0); }
}
.header span{ color:red; }
.date{ text-align:right; margin-bottom:15px; }
.league{
    background:linear-gradient(to right,#111,#333);
    padding:10px;
    border-left:5px solid gold;
    font-weight:bold;
    margin-top:20px;
}
table{
    width:100%;
    border-collapse:collapse;
    table-layout:fixed;
}
th, td{
    border:1px solid #333;
    padding:12px;
    text-align:center;
    width:25%;
}
th{
    background:linear-gradient(to right,#caa100,#ffd700);
    color:#000;
}
.home{ color:red; font-weight:bold; }
.rate{ color:gold; font-weight:bold; }
.footer{
    text-align:center;
    margin-top:40px;
    font-size:28px;
}
.highlight{
    font-size:48px;
    font-weight:bold;
}
.contact{
    text-align:center;
    margin-top:10px;
    font-size:20px;
    color:gold;
    font-weight:bold;
}

/* Login */
.login-box{
    position:fixed;
    top:10px;
    right:10px;
    background:#111;
    padding:10px;
    border:1px solid gold;
    border-radius:8px;
    font-size:12px;
}
.login-box input{
    width:120px;
    margin-bottom:5px;
    padding:3px;
    font-size:12px;
}
.login-box button{
    width:100%;
    padding:5px;
    margin-top:3px;
    background:gold;
    border:none;
    font-weight:bold;
    cursor:pointer;
}
.save-btn{
    background:red !important;
    color:#fff;
}
</style>
</head>

<body>

<div class="login-box">
    <div id="loginForm">
        <input type="text" id="username" placeholder="Username"><br>
        <input type="password" id="password" placeholder="Password"><br>
        <button onclick="login()">Login</button>
    </div>
    <div id="logoutSection" style="display:none;">
        Admin Mode<br>
        <button onclick="logout()">Logout</button>
        <button onclick="saveData()" class="save-btn">Save</button>
    </div>
</div>

<div class="container">

<div class="header">D<span>I</span>CTATOR</div>
<div class="contact">DM : 99</div>
<div class="date">13/02</div>

<div class="league">‡∏ö‡∏∏‡∏ô‡πÄ‡∏î‡∏™‡∏•‡∏µ‡∏Å‡∏≤ ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏±‡∏ô</div>
<table>
<tr>
<th>‡πÄ‡∏ß‡∏•‡∏≤</th><th>‡∏ó‡∏µ‡∏°‡πÄ‡∏à‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô</th><th>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡∏≠‡∏•</th><th>‡∏ó‡∏µ‡∏°‡πÄ‡∏¢‡∏∑‡∏≠‡∏ô</th>
</tr>
<tr>
<td>02:30</td>
<td class="home">‡∏î‡∏≠‡∏£‡πå‡∏ó‡∏°‡∏∏‡∏ô‡∏î‡πå</td>
<td class="rate">1.5</td>
<td>‡πÑ‡∏°‡∏ô‡∏ã‡πå</td>
</tr>
</table>

<div class="league">‡∏Å‡∏±‡∏•‡πÇ‡∏ä‡πà ‡πÄ‡∏ã‡πÄ‡∏£‡∏µ‡∏¢‡∏≠‡∏≤ ‡∏≠‡∏¥‡∏ï‡∏≤‡∏•‡∏µ</div>
<table>
<tr>
<td>02:45</td>
<td>‡∏õ‡∏¥‡∏ã‡πà‡∏≤</td>
<td class="rate">1.5</td>
<td class="home">‡πÄ‡∏≠‡∏ã‡∏µ ‡∏°‡∏¥‡∏•‡∏≤‡∏ô</td>
</tr>
</table>

<div class="league">‡∏•‡∏≤‡∏•‡∏µ‡∏Å‡∏≤ ‡∏™‡πÄ‡∏õ‡∏ô</div>
<table>
<tr>
<td>03:00</td>
<td>‡πÄ‡∏≠‡∏•‡πÄ‡∏ä‡πà</td>
<td class="rate">0.5</td>
<td class="home">‡πÇ‡∏≠‡∏ã‡∏≤‡∏ã‡∏π‡∏ô‡πà‡∏≤</td>
</tr>
</table>

<div class="league">‡∏•‡∏µ‡∏Å‡πÄ‡∏≠‡∏¥‡∏á ‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™</div>
<table>
<tr>
<td>01:00</td>
<td>‡πÅ‡∏£‡∏ô‡∏™‡πå</td>
<td class="rate">1.5</td>
<td class="home">‡∏õ‡∏≤‡∏£‡∏µ‡∏™ ‡πÅ‡∏ã‡∏á‡∏ï‡πå ‡πÅ‡∏ä‡∏£‡πå‡∏Å‡πÅ‡∏°‡∏á</td>
</tr>
<tr>
<td>03:05</td>
<td class="home">‡πÇ‡∏°‡∏ô‡∏≤‡πÇ‡∏Å</td>
<td class="rate">1.5</td>
<td>‡∏ô‡πá‡∏≠‡∏á‡∏ï‡πå</td>
</tr>
</table>

<div class="footer">
‡∏ô‡πâ‡∏≥ <span class="highlight">0.85</span><br>
‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 100k
</div>

</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, set, onValue } 
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyDZ0iBQX1uJz_gf23M6gn8yQ6S90lGYDOc",
  authDomain: "dictator-ball.firebaseapp.com",
  databaseURL: "https://dictator-ball-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "dictator-ball",
  storageBucket: "dictator-ball.firebasestorage.app",
  messagingSenderId: "533340357926",
  appId: "1:533340357926:web:a1eb15b77c335a7a57ade7"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const USERNAME = "Pim888_";
const PASSWORD = "dictator_888_pim";

let isAdmin = false;

/* üîí ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
function disableUser(){
    document.querySelector(".container").style.userSelect = "none";

    document.addEventListener("keydown", function(e){
        if(!isAdmin){
            const tag = e.target.tagName.toLowerCase();
            if(tag !== "input" && tag !== "textarea"){
                e.preventDefault();
            }
        }
    });

    document.addEventListener("contextmenu", function(e){
        if(!isAdmin){
            const tag = e.target.tagName.toLowerCase();
            if(tag !== "input"){
                e.preventDefault();
            }
        }
    });
}

function enableAdmin(){
    document.querySelector(".container").style.userSelect = "auto";
}

function setEditable(state){
    const elements = document.querySelectorAll(
        "td, th, .league, .date, .footer, .header"
    );
    elements.forEach(el=>{
        el.contentEditable = state;
    });
}

window.login = function(){
    const user = document.getElementById("username").value;
    const pass = document.getElementById("password").value;

    if(user === USERNAME && pass === PASSWORD){
        isAdmin = true;
        localStorage.setItem("adminLogin", "true");

        setEditable(true);
        enableAdmin();

        document.getElementById("loginForm").style.display="none";
        document.getElementById("logoutSection").style.display="block";
    }else{
        alert("Username ‡∏´‡∏£‡∏∑‡∏≠ Password ‡∏ú‡∏¥‡∏î");
    }
}

window.logout = function(){
    isAdmin = false;
    localStorage.removeItem("adminLogin");

    setEditable(false);
    disableUser();

    document.getElementById("loginForm").style.display="block";
    document.getElementById("logoutSection").style.display="none";
}

window.saveData = function(){
    if(!isAdmin) return;

    const content = document.querySelector(".container").innerHTML;
    set(ref(db, "liveData"), { html: content });
    alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‚úÖ");
}

onValue(ref(db, "liveData"), (snapshot) => {
    const data = snapshot.val();
    if(data){
        document.querySelector(".container").innerHTML = data.html;
        if(isAdmin) setEditable(true);
    }
});

if(localStorage.getItem("adminLogin")==="true"){
    isAdmin = true;
    setEditable(true);
    enableAdmin();
    document.getElementById("loginForm").style.display="none";
    document.getElementById("logoutSection").style.display="block";
}else{
    disableUser();
}

</script>

</body>
</html>
